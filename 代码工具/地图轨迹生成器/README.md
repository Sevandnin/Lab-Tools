# 地图轨迹生成器 (v3.1)

简要说明
----------------
- 这是一个基于 Tkinter 的多轨迹地图生成工具（Python）。
- 输入：最多支持 6 个 Excel 文件（每行包含：时间、纬度、经度，高度为可选列）。
- 输出：生成包含高德地图（AMap）的可交互 HTML 文件，支持轨迹播放、切换图层、调整线宽、显示精度信息与 RMSE 计算。

主要功能
----------------
- 支持最多 6 条轨迹同时渲染并播放。
- 自动将输入 WGS-84 坐标转换为 GCJ-02（中国高德地图坐标系）。
- RTK 轨迹自动放在第 1 位并默认使用绿色显示。
- 可视化播放：播放/暂停/重置、时间滑块、当前时间显示。
- 地图图层切换：卫星图、标准图、路况图。
- 精度信息：面板与弹窗显示轨迹点数、RTK 估计采样频率以及与 RTK 的 RMSE（米）。

使用说明
----------------
1. 启动程序：
```
python 源码/qt.py
```
2. 在 GUI 中选择 Excel 文件（按顺序：RTK 放在第1位），输入高德 API Key，选择输出 HTML 路径。
3. 点击“生成地图”后，将在指定路径生成 HTML 文件，选择“是”可立即打开预览。

更新日志
----------------
- v3.1 (当前)
  - 将 RTK 轨迹移动到第 1 位并默认显示为绿色。
  - 在生成的 HTML 中加入时间解析、采样频率估计、对齐与 RMSE 计算函数，支持以 RTK 为基准评估其它轨迹的 RMSE（米）。
  - 修复模板内嵌 JavaScript 中大括号导致的 Python f-string 解析问题（将 JS 辅助函数抽离为模板占位并安全替换）。
  - 修复若干空轨迹与索引边界的稳健性处理。

- v3.0
  - 初始实现：从 Excel 读取轨迹、WGS-84 -> GCJ-02 转换、生成可交互的高德地图 HTML，支持轨迹播放与基本控制。

许可
----------------
该工具仅供内部或教学用途；如需商业使用，请自行确认第三方库与地图服务的使用条款。

作者
----------------
维护者：你（或当前仓库负责人）。
